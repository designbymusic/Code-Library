/*! 
 * curl 0.6.2 - MIT License (c) copyright B Cavalier & J Hann 
 */
(function(a){function x(){}function y(a,b){return k.call(a).indexOf("[object "+b)==0}function z(a){var b,c;return b=a.path=B(a.path||a.location||""),c=a.main||"main",a.config=a.config,a.main=c.charAt(0)=="."?B(C(c,b)):A(b,c),a}function A(a,b){return B(a)+"/"+b}function B(a){return a&&a.charAt(a.length-1)=="/"?a.substr(0,a.length-1):a}function C(a,b){var c,d,e;return d=1,a=a.replace(s,function(a,b,c){return c&&d++,e=!0,""}),e?(c=b.split("/"),c.splice(c.length-d,d),c.concat(a||[]).join("/")):a}function D(a){var b=a.indexOf("!");return{resourceId:a.substr(b+1),pluginId:b>=0&&a.substr(0,b)}}function E(){}function F(a){E.prototype=a;var b=new E;return E.prototype=j,b}function G(){function d(a,c,d){b.push([a,c,d])}function e(a,c){var d,e,f=0;while(d=b[f++])e=d[a],e&&e(c)}var a,b,c;a=this,b=[],c=function(f,g){d=f?function(a,b){a&&a(g)}:function(a,b){b&&b(g)},c=x,e(f?0:1,g),e=x,b=l},this.then=function(b,c,e){return d(b,c,e),a},this.resolve=function(b){a.resolved=b,c(!0,b)},this.reject=function(b){a.rejected=b,c(!1,b)},this.progress=function(a){e(2,a)}}function H(a){return a instanceof G}function I(a,b,c,d){return H(a)?a.then(b,c,d):b(a)}function J(a,b,c){return function(){var d;return--a>=0&&b&&(d=b.apply(l,arguments)),a==0&&c&&c(d),d}}function K(){function b(a,d,e){var f,g;g=w.createContext(c,l,[].concat(a)),this.then=f=function(a,b){return I(g,function(b){a&&a.apply(l,b)},function(a){if(!b)throw a;b(a)}),this},this.next=function(a,c){return new b(a,c,g)},d&&f(d),I(e,function(){w.getDeps(g)})}var a=[].slice.call(arguments);return y(a[0],"Object")&&(c=w.extractCfg(a.shift()),w.checkPreloads(c)),new b(a[0],a[1])}function L(a){var b=a.id;b==l&&(p!==l?p={ex:"Multiple anonymous defines in url"}:(b=w.getCurrentDefName())||(p=a));if(b!=l){var d=n[b];if(!(b in n)){var e=w.resolvePathInfo(b,c).config;d=n[b]=w.createResourceDef(e,b)}H(d)&&(d.useNet=!1,w.defineResource(d,a))}}var b="0.6.2",c=a.curl,d=a.document,e=d&&(d.head||d.getElementsByTagName("head")[0]),f={},g={},h={},i={},j={},k=j.toString,l,m={loaded:1,interactive:h,complete:1},n={},o=!1,p,q=/\?/,r=/^\/|^[^:]+:\/\//,s=/(?:^|\/)(\.)(\.?)\/?/g,t=/\/\*[\s\S]*?\*\/|(?:[^\\])\/\/.*?[\n\r]/g,u=/require\s*\(\s*["']([^"']+)["']\s*\)|(?:[^\\]?)(["'])/g,v,w;w={createContext:function(a,b,c,d){function f(a){return C(a,e.ctxId)}function g(b){return w.resolvePathInfo(f(b),a).url}function h(b,c){var d,g,h,i;d=c&&function(){c.apply(l,arguments[0])};if(y(b,"String")){g=f(b),h=n[g],i=H(h)&&h.exports;if(g in n){if(d)throw new Error("require(id, callback) not allowed");return i||h}throw new Error("Module not resolved: "+g)}I(w.getDeps(w.createContext(a,e.id,b)),d)}var e;return e=new G,e.ctxId=e.id=b||"",e.isPreload=d,e.depNames=c,e.require=h,h.toUrl=g,e.toAbsId=f,e},createResourceDef:function(a,b,c,d){var e,f,h,i;return e=w.createContext(a,b,l,c),e.ctxId=d==l?b:d,f=e.resolve,h=J(1,function(a){e.deps=a;try{i=w.executeDefFunc(e)}catch(b){e.reject(b)}}),e.resolve=function(b){h(b),n[e.id]=i,f(i)},e.exportsReady=function(b){e.exports&&(h(b),e.progress(g))},e},createPluginDef:function(a,b,c,d){var e;return e=w.createContext(a,b,l,c),e.ctxId=d,e},getCjsRequire:function(a){return a.require},getCjsExports:function(a){return a.exports||(a.exports={})},getCjsModule:function(a){var b=a.module;return b||(b=a.module={id:a.id,uri:w.getDefUrl(a),exports:w.getCjsExports(a)},b.exports=b.exports),b},getDefUrl:function(a){return a.url||(a.url=w.checkToAddJsExt(a.require.toUrl(a.id)))},extractCfg:function(a){function c(c,d){var e,f,g,h,i,j;for(var k in c)g=c[k],i=a,h=D(B(g.id||g.name||k)),e=h.resourceId,f=h.pluginId,f&&(i=b[f],i||(i=b[f]=F(a),i.pathMap=F(a.pathMap),i.pathList=[]),delete c[k]),d?j=z(g):j={path:B(g)},j.specificity=e.split("/").length,e?(i.pathMap[e]=j,i.pathList.push(e)):i.baseUrl=w.resolveUrl(g,a)}function d(a){var b=a.pathMap;a.pathRx=new RegExp("^("+a.pathList.sort(function(a,c){return b[a].specificity<b[c].specificity}).join("|").replace(/\//g,"\\/")+")(?=\\/|$)"),delete a.pathList}var b;a.baseUrl=a.baseUrl||"",a.pluginPath="pluginPath"in a?a.pluginPath:"curl/plugin",a.pathMap={},b=a.plugins=a.plugins||{},a.pathList=[],c(a.paths,!1),c(a.packages,!0);for(var e in b){var f=b[e].pathList;f&&(b[e].pathList=f.concat(a.pathList),d(b[e]))}return d(a),a},checkPreloads:function(a){var b;b=a.preloads,b&&b.length>0&&I(o,function(){o=w.getDeps(w.createContext(a,l,b,!0))})},resolvePathInfo:function(a,b,d){var e,f,g,h,i;return e=b.pathMap,d&&b.pluginPath&&a.indexOf("/")<0&&!(a in e)&&(a=A(b.pluginPath,a)),r.test(a)?g=a:g=a.replace(b.pathRx,function(b){return f=e[b]||{},i=!0,h=f.config,f.main&&b==a?f.main:f.path||""}),{path:g,config:h||c,url:w.resolveUrl(g,b)}},resolveUrl:function(a,b){var c=b.baseUrl;return c&&!r.test(a)?A(c,a):a},checkToAddJsExt:function(a){return a+(q.test(a)?"":".js")},loadScript:function(b,c,f){function h(d){d=d||a.event;if(d.type=="load"||m[g.readyState])delete i[b.id],g.onload=g.onreadystatechange=g.onerror="",c()}function j(a){f(new Error("Syntax or http error: "+b.url))}var g=d.createElement("script");g.onload=g.onreadystatechange=h,g.onerror=j,g.charset="utf-8",g.async=!0,g.src=b.url,i[b.id]=g,e.insertBefore(g,e.firstChild)},extractCjsDeps:function(a){var b,c=[],d;return b=typeof a=="string"?a:a.toSource?a.toSource():a.toString(),b.replace(t,"").replace(u,function(a,b,e){return e?d=d==e?l:d:d||c.push(b),a}),c},fixArgs:function(a){var b,c,d,e,f,g;return f=a.length,d=a[f-1],e=y(d,"Function")?d.length:-1,f==2?y(a[0],"Array")?c=a[0]:b=a[0]:f==3&&(b=a[0],c=a[1]),!c&&e>0&&(g=!0,c=["require","exports","module"].slice(0,e).concat(w.extractCjsDeps(d))),{id:b,deps:c||[],res:e>=0?d:function(){return d},cjs:g}},executeDefFunc:function(a){var b,c;return c=a.cjs?a.exports:l,b=a.res.apply(c,a.deps),b===l&&a.exports&&(b=a.module?a.exports=a.module.exports:a.exports),b},defineResource:function(a,b){I(a.isPreload||o,function(){a.res=b.res,a.cjs=b.cjs,a.depNames=b.deps,w.getDeps(a)})},getDeps:function(a){function n(a,b,c){d[b]=a,c&&k(a,b)}function o(b,c){var d,e,h,i;d=J(1,function(a){e(a),m(a,c)}),e=J(1,function(a){k(a,c)}),h=w.fetchDep(b,a),i=H(h)&&h.exports,i&&e(i),I(h,d,a.reject,a.exports&&function(a){h.exports&&(a==f?e(h.exports):a==g&&d(h.exports))})}function p(){a.resolve(d)}function q(){a.exportsReady&&a.exportsReady(d)}var b,c,d,e,h,i,j,k,m;d=[],c=a.depNames,e=c.length,c.length==0&&p(),k=J(e,n,q),m=J(e,n,p);for(b=0;b<e;b++)j=c[b],j in v?(m(v[j](a),b,!0),a.exports&&a.progress(f)):j?o(j,b):m(l,b,!0);return a},fetchResDef:function(a){return w.getDefUrl(a),w.loadScript(a,function(){var b=p;p=l,a.useNet!==!1&&(!b||b.ex?a.reject(new Error((b&&b.ex||"define() missing or duplicated: url").replace("url",a.url))):w.defineResource(a,b))},a.reject),a},fetchDep:function(a,b){var d,e,f,g,h,i,j,k,m,o,p;return d=b.toAbsId,e=b.isPreload,f=D(a),j=f.resourceId,g=d(f.pluginId||j),k=w.resolvePathInfo(g,c,!!f.pluginId),f.pluginId?h=g:(h=k.config.moduleLoader,h&&(j=g,g=h,k=w.resolvePathInfo(h,c))),m=n[g],g in n||(m=n[g]=w.createResourceDef(k.config,g,e,f.pluginId?k.path:l),m.url=w.checkToAddJsExt(k.url),w.fetchResDef(m)),g==h&&(o=new G,p=c.plugins[h]||c,I(m,function(a){var b,c,f;f=a.dynamic,"normalize"in a?j=a.normalize(j,d,p)||"":j=d(j),c=h+"!"+j,b=n[c];if(!(c in n)){b=w.createPluginDef(p,c,e,j),f||(n[c]=b);var g=function(a){b.resolve(a),f||(n[c]=a)};g.resolve=g,g.reject=b.reject,a.load(j,b.require,g,p)}o!=b&&I(b,o.resolve,o.reject,o.progress)},o.reject)),o||m},getCurrentDefName:function(){var b;if(!y(a.opera,"Opera"))for(var c in i)if(m[i[c].readyState]==h){b=c;break}return b}},v={require:w.getCjsRequire,exports:w.getCjsExports,module:w.getCjsModule};if(y(c,"Function"))return;c=w.extractCfg(c||{}),w.checkPreloads(c);var M,N,O;M=c.apiName||"curl",N=c.apiContext||a,N[M]=K,n.curl=K,O=a.define=function(){var a=w.fixArgs(arguments);L(a)},K.version=b,O.amd={plugins:!0,jQuery:!0,curl:b},n["curl/_privileged"]={core:w,cache:n,cfg:c,_define:L,_curl:K,Promise:G}})(this);